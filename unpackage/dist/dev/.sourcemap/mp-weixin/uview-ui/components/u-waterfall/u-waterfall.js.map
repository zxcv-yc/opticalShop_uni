{"version":3,"sources":["webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue?2a62","webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue?3e33","webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue?8f74","webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue?dcd3","webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue","webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue?3397","webpack:///C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue?5804"],"names":["name","props","flowList","type","Array","required","default","addTime","Number","String","provide","uWaterfall","data","leftList","rightList","tempList","children","watch","copyFlowList","nVal","oVal","startIndex","isArray","length","cloneData","slice","splitData","mounted","computed","methods","$uGetRect","leftRect","rightRect","item","height","push","splice","setTimeout","JSON","parse","stringify"],"mappings":"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","file":"uview-ui/components/u-waterfall/u-waterfall.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./u-waterfall.vue?vue&type=template&id=c9029f20&scoped=true&\"\nvar renderjs\nimport script from \"./u-waterfall.vue?vue&type=script&lang=js&\"\nexport * from \"./u-waterfall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./u-waterfall.vue?vue&type=style&index=0&id=c9029f20&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c9029f20\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/windows/Documents/opticalShop_uni/uview-ui/components/u-waterfall/u-waterfall.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-waterfall.vue?vue&type=template&id=c9029f20&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-waterfall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-waterfall.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\n * waterfall 瀑布流\n * @description 这是一个瀑布流形式的组件，内容分为左右两列，结合uView的懒加载组件效果更佳。相较于某些只是奇偶数左右分别，或者没有利用vue作用域插槽的做法，uView的瀑布流实现了真正的 组件化，搭配LazyLoad 懒加载和loadMore 加载更多组件，让您开箱即用，眼前一亮。\n * @tutorial https://www.uviewui.com/components/waterfall.html\n * @property {Array} flow-list 用于渲染的数据\n * @property {String Number} add-time 单条数据添加到队列的时间间隔，单位ms，见上方注意事项说明（默认200）\n * @example <u-waterfall :flowList=\"flowList\"></u-waterfall>\n */\nexport default {\n\tname: \"u-waterfall\",\n\tprops: {\n\t\tflowList: {\n\t\t\t// 瀑布流数据\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t\tdefault: function() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\t\t// 每次向结构插入数据的时间间隔，间隔越长，越能保证两列高度相近，但是对用户体验越不好\n\t\t// 单位ms\n\t\taddTime: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 200\n\t\t}\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\tuWaterfall: this\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tleftList: [],\n\t\t\trightList: [],\n\t\t\ttempList: [],\n\t\t\tchildren: []\n\t\t}\n\t},\n\twatch: {\n\t\tcopyFlowList(nVal, oVal) {\n\t\t\t// 取差值，即这一次数组变化新增的部分\n\t\t\tlet startIndex = Array.isArray(oVal) && oVal.length > 0 ? oVal.length : 0;\n\t\t\tthis.tempList = this.cloneData(nVal.slice(startIndex));\n\t\t\tthis.splitData();\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.tempList = this.cloneData(this.copyFlowList);\n\t\tthis.splitData();\n\t},\n\tcomputed: {\n\t\t// 破坏flowList变量的引用，否则watch的结果新旧值是一样的\n\t\tcopyFlowList() {\n\t\t\treturn this.cloneData(this.flowList);\n\t\t}\n\t},\n\tmethods: {\n\t\tasync splitData() {\n\t\t\tif (!this.tempList.length) return;\n\t\t\tlet leftRect = await this.$uGetRect('#u-left-cloumn');\n\t\t\tlet rightRect = await this.$uGetRect('#u-right-cloumn');\n\t\t\t// 如果左边小于或等于右边，就添加到左边，否则添加到右边\n\t\t\tlet item = this.tempList[0];\n\t\t\t// 解决多次快速上拉后，可能数据会乱的问题，因为经过上面的两个await节点查询阻塞一定时间，加上后面的定时器干扰\n\t\t\t// 数组可能变成[]，导致此item值可能为undefined\n\t\t\tif(!item) return ;\n\t\t\tif (leftRect.height < rightRect.height) {\n\t\t\t\tthis.leftList.push(item);\n\t\t\t} else if (leftRect.height > rightRect.height) {\n\t\t\t\tthis.rightList.push(item);\n\t\t\t} else {\n\t\t\t\t// 这里是为了保证第一和第二张添加时，左右都能有内容\n\t\t\t\t// 因为添加第一张，实际队列的高度可能还是0，这时需要根据队列元素长度判断下一个该放哪边\n\t\t\t\tif (this.leftList.length <= this.rightList.length) {\n\t\t\t\t\tthis.leftList.push(item);\n\t\t\t\t} else {\n\t\t\t\t\tthis.rightList.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 移除临时列表的第一项\n\t\t\tthis.tempList.splice(0, 1);\n\t\t\t// 如果临时数组还有数据，继续循环\n\t\t\tif (this.tempList.length) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.splitData();\n\t\t\t\t}, this.addTime)\n\t\t\t}\n\t\t},\n\t\t// 复制而不是引用对象和数组\n\t\tcloneData(data) {\n\t\t\treturn JSON.parse(JSON.stringify(data));\n\t\t}\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-waterfall.vue?vue&type=style&index=0&id=c9029f20&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-waterfall.vue?vue&type=style&index=0&id=c9029f20&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590210623711\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}